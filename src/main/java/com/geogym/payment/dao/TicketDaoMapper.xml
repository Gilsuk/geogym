<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.geogym.payment.dao.TicketDao">

<select id="selectTicket" 
parameterType="com.geogym.payment.dto.Ticket" 
resultType="com.geogym.payment.dto.Ticket">
	SELECT user_no AS `user.user_no`, trainer_no AS `trainer.trainer_no`,
	pt_ticket_expire, pt_ticket_amount FROM pt_ticket
	WHERE 1=1
	AND user_no = #{user.user_no}
	AND trainer_no = #{trainer.trainer_no}
	ORDER BY pt_ticket_expire DESC
	LIMIT 1
</select>

</mapper>